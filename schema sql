# truncate the tables

delete from internal_events;
delete from mail;
delete from messages;
delete from notes;
delete from banned;

DELETE FROM SQLITE_SEQUENCE WHERE name in ('mail','messages','banned','notes','internal_events');

# DDL
-- banned definition

CREATE TABLE banned (
	id TEXT(100) NOT NULL,
	CONSTRAINT banned_pk PRIMARY KEY (id)
);


-- internal_events definition

CREATE TABLE "internal_events" (
	"cmd"	TEXT,
	"status"	TEXT,
	"created_on"	NUMERIC NOT NULL
);

-- mail definition

CREATE TABLE "mail" (
	"owner"	TEXT NOT NULL,
	"receiver"	TEXT NOT NULL,
	"message"	TEXT,
	"status"	TEXT NOT NULL,
	"created_date"	NUMERIC
,   "is_whisper"	TEXT);

-- messages definition

CREATE TABLE "messages" (
	"trip"	TEXT,
	"nick"	TEXT NOT NULL,
	"hash"	TEXT,
	"message"	TEXT,
	"created_on"	INTEGER NOT NULL,
	PRIMARY KEY("created_on")
);

-- notes definition

CREATE TABLE "notes" (
	"id"	INTEGER,
	"name"	TEXT,
	"note"	TEXT,
	PRIMARY KEY("id" AUTOINCREMENT)
);

## to build the jar
## mvn clean compile assembly:single